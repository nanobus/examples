spec: apex.aidl
config:
  name: nanochat
  package: nanochat
  module: github.com/nanobus/examples/nanochat
  aliases:
    UUID:
      type: uuid.UUID
      import: github.com/google/uuid
      parse: uuid.Parse
      format: String
generates:
  ./src/generated.rs:
    module: "@nanobus/rust"
    config:
      serde: true
      derive:
        _all:
          - Debug
      datetime: wasmrs_guest::Timestamp
      visibility:
        _all: pub
  cmd/main.go:
    ifNotExists: true
    module: "@nanobus/tinygo"
    visitorClass: MainVisitor
    config:
      import: github.com/nanobus/examples/nanochat
  pkg/nanochat/msgpack.go:
    module: "@nanobus/tinygo"
    visitorClass: MsgPackVisitor
  pkg/nanochat/interfaces.go:
    module: "@nanobus/tinygo"
    visitorClass: InterfacesVisitor
  pkg/nanochat/export.go:
    module: "@nanobus/tinygo"
    visitorClass: ExportVisitor
  pkg/nanochat/providers.go:
    module: "@nanobus/tinygo"
    visitorClass: ProviderVisitor
  pkg/nanochat/jots.go:
    ifNotExists: true
    module: "@nanobus/tinygo"
    visitorClass: ScaffoldVisitor
    config:
      names:
        - Jots
  pkg/nanochat/users.go:
    ifNotExists: true
    module: "@nanobus/tinygo"
    visitorClass: ScaffoldVisitor
    config:
      names:
        - Users  
  bus.yaml:
    ifNotExists: true
    module: "@nanobus/bus"
    visitorClass: BusVisitor
---
spec: iotas/user/apex.aidl
config:
  name: user
  package: user
  module: github.com/nanobus/examples/nanochat/pkg/imports/iotas/user
  aliases:
    UUID:
      type: uuid.UUID
      import: github.com/google/uuid
      parse: uuid.Parse
      format: String
generates:
  ./src/user/mod.rs:
    module: "@nanobus/rust"
    config:
      serde: true
      derive:
        _all:
          - Debug
      datetime: wasmrs_guest::Timestamp
      visibility:
        _all: pub
  pkg/imports/user/msgpack.go:
    module: "@nanobus/tinygo"
    visitorClass: MsgPackVisitor
  pkg/imports/user/interfaces.go:
    module: "@nanobus/tinygo"
    visitorClass: InterfacesVisitor
  pkg/imports/user/import.go:
    module: "@nanobus/tinygo"
    visitorClass: ImportVisitor
---
spec: iotas/follow/apex.aidl
config:
  name: follow
  package: follow
  module: github.com/nanobus/examples/nanochat/pkg/imports/iotas/follow
  aliases:
    UUID:
      type: uuid.UUID
      import: github.com/google/uuid
      parse: uuid.Parse
      format: String
generates:
  ./src/follow/mod.rs:
    module: "@nanobus/rust"
    config:
      serde: true
      derive:
        _all:
          - Debug
      datetime: wasmrs_guest::Timestamp
      visibility:
        _all: pub
  pkg/imports/follow/msgpack.go:
    module: "@nanobus/tinygo"
    visitorClass: MsgPackVisitor
  pkg/imports/follow/interfaces.go:
    module: "@nanobus/tinygo"
    visitorClass: InterfacesVisitor
  pkg/imports/follow/import.go:
    module: "@nanobus/tinygo"
    visitorClass: ImportVisitor
---
spec: iotas/message/apex.aidl
config:
  name: message
  package: message
  module: github.com/nanobus/examples/nanochat/pkg/imports/iotas/message
  aliases:
    UUID:
      type: uuid.UUID
      import: github.com/google/uuid
      parse: uuid.Parse
      format: String
generates:
  ./src/message/mod.rs:
    module: "@nanobus/rust"
    config:
      serde: true
      derive:
        _all:
          - Debug
      datetime: wasmrs_guest::Timestamp
      visibility:
        _all: pub
  pkg/imports/message/msgpack.go:
    module: "@nanobus/tinygo"
    visitorClass: MsgPackVisitor
  pkg/imports/message/interfaces.go:
    module: "@nanobus/tinygo"
    visitorClass: InterfacesVisitor
  pkg/imports/message/import.go:
    module: "@nanobus/tinygo"
    visitorClass: ImportVisitor
---
spec: iotas/like/apex.aidl
config:
  name: like
  package: like
  module: github.com/nanobus/examples/nanochat/pkg/imports/iotas/like
  aliases:
    UUID:
      type: uuid.UUID
      import: github.com/google/uuid
      parse: uuid.Parse
      format: String
generates:
  ./src/like/mod.rs:
    module: "@nanobus/rust"
    config:
      serde: true
      derive:
        _all:
          - Debug
      datetime: wasmrs_guest::Timestamp
      visibility:
        _all: pub
  pkg/imports/like/msgpack.go:
    module: "@nanobus/tinygo"
    visitorClass: MsgPackVisitor
  pkg/imports/like/interfaces.go:
    module: "@nanobus/tinygo"
    visitorClass: InterfacesVisitor
  pkg/imports/like/import.go:
    module: "@nanobus/tinygo"
    visitorClass: ImportVisitor
